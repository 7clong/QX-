#!name=QX · AMap AdClean Local
#!desc=高德地图广告净化 · 本地调用版（拦截 + 伪空返回）
#!author=QuantumultX 规则工程师
#!version=2025.08.24

hostname = m5.amap.com, mps.amap.com, logs.amap.com, applog.amap.com, sns.amap.com

# 纯广告/上报：直接砍
^https?:\/\/m5\.amap\.com\/ws\/valueadded\/alimama\/splash_screen url reject-dict
^https?:\/\/logs\.amap\.com\/ws\/logs\/batch url reject-200
^https?:\/\/applog\.amap\.com\/ws\/valueadded\/alimama url reject-200

# 需要“合法空结构”的接口：调用本地脚本（注意路径）
^https?:\/\/m5\.amap\.com\/ws\/faas\/amap-navigation\/card-service-plan url script-response-body QX_AMap_AdClean_Local.js, requires-body=true, timeout=10
^https?:\/\/m5\.amap\.com\/ws\/shield\/search\/new_hotword url script-response-body QX_AMap_AdClean_Local.js, requires-body=true, timeout=10
^https?:\/\/m5\.amap\.com\/ws\/shield\/search\/common\/coupon url script-response-body QX_AMap_AdClean_Local.js, requires-body=true, timeout=10
^https?:\/\/sns\.amap\.com\/ws\/shield\/dsp\/profile url script-response-body QX_AMap_AdClean_Local.js, requires-body=true, timeout=10
^https?:\/\/mps\.amap\.com\/ws\/mps\/project\/(home|cards|recommend) url script-response-body QX_AMap_AdClean_Local.js, requires-body=true, timeout=10
