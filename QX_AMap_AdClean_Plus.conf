#!name=QX · AMap AdClean Plus
#!desc=高德地图广告净化 · 带脚本的稳妥版（拦截 + 伪空返回），仅供学习研究
#!author=QuantumultX 规则工程师
#!version=2025.08.24

# MitM 目标
hostname = m5.amap.com, mps.amap.com, logs.amap.com, applog.amap.com, sns.amap.com

# 1) 纯广告/上报：直接干掉（更省电）
^https?:\/\/m5\.amap\.com\/ws\/valueadded\/alimama\/splash_screen url reject-dict
^https?:\/\/logs\.amap\.com\/ws\/logs\/batch url reject-200
^https?:\/\/applog\.amap\.com\/ws\/valueadded\/alimama url reject-200

# 2) 可能被前端“强校验”的推荐/卡片：脚本改为空结构，避免报错
^https?:\/\/m5\.amap\.com\/ws\/faas\/amap-navigation\/card-service-plan url script-response-body https://raw.githubusercontent.com/7clong/QX-/main/QX_AMap_AdClean_Plus.js, requires-body=true, timeout=10
^https?:\/\/m5\.amap\.com\/ws\/shield\/search\/new_hotword url script-response-body https://raw.githubusercontent.com/7clong/QX-/main/QX_AMap_AdClean_Plus.js, requires-body=true, timeout=10
^https?:\/\/m5\.amap\.com\/ws\/shield\/search\/common\/coupon url script-response-body https://raw.githubusercontent.com/7clong/QX-/main/QX_AMap_AdClean_Plus.js, requires-body=true, timeout=10
^https?:\/\/sns\.amap\.com\/ws\/shield\/dsp\/profile url script-response-body https://raw.githubusercontent.com/7clong/QX-/main/QX_AMap_AdClean_Plus.js, requires-body=true, timeout=10
^https?:\/\/mps\.amap\.com\/ws\/mps\/project\/(home|cards|recommend) url script-response-body https://raw.githubusercontent.com/7clong/QX-/main/QX_AMap_AdClean_Plus.js, requires-body=true, timeout=10
