#!name=QX · Xianyu Splash AdBlock
#!desc=咸鱼开屏/冷启动广告去除（初版，含可替换域名），优先使用 reject-200/reject-dict
#!author=QuantumultX 规则工程师
#!version=2025.09.05

# 说明
# 1) 这是“开屏广告”定向规则初版。阿里系接口命名常见：splash/startup/launch/open/boot 等。
# 2) 具体域名随版本变化，先用发现订阅跑 5–10 分钟，把命中的真实域名/路径回填替换。
# 3) 脚本不是必须，优先用 reject-200 / reject-dict / reject-array，稳定省电。

# ===== MitM（并入）=====
hostname = *.goofish.com, *.xianyu.mobi, *.taobao.com, *.alicdn.com, *.alibaba.com, acs.m.taobao.com, guide-acs.m.taobao.com, amdc.m.taobao.com

# ===== 开屏/冷启动广告接口（占位与通配，命中后再收紧）=====
# mtop/acs 风格（阿里常见网关）
^https?:\/\/(guide-)?acs\.m\.taobao\.com\/gw\/mtop\..*?(splash|startup|startupad|launch|openad|boot)\..* url reject-dict

# goofish/xianyu 自身 API（占位域，命中后按抓取结果替换）
^https?:\/\/api\.(goofish|xianyu)\.(com|mobi)\/(gw|api)\/?(splash|startup|launch|openad|boot).*$ url reject-dict
^https?:\/\/m\.(goofish|xianyu)\.(com|mobi)\/gw\/mtop\..*?(splash|startup|launch|openad|boot)\..* url reject-dict

# 通配关键字兜底（避免误杀，只匹配明确含广告语义的段）
^https?:\/\/[^\/]+\/.+?(splash(ad)?|startup(ad)?|launch(ad)?|open(ad)?|boot(ad)?)(\/|\.|\?).* url reject-200

# 预加载/预取的开屏素材（通常图片/JSON 列表），直接空对象或空数组
^https?:\/\/[^\/]+\/(splash|startup)\/(conf|config|list|ads?)\b.* url reject-array
^https?:\/\/[^\/]+\/(boot|launch)\/(conf|config|list|ads?)\b.* url reject-array

# ===== 埋点/曝光上报（只限开屏相关，安全返回 200 空响应）=====
^https?:\/\/[^\/]+\/(splash|startup|launch|openad|boot)\/(track|log|report|exposure)\b.* url reject-200

# ===== 阿里系常见上报域（如果影响登录/风控请自行注释）=====
^https?:\/\/amdc\.m\.taobao\.com\b.* url reject-200
^https?:\/\/(gm|wpk|log)\.taobao\.com\b.* url reject-200
^https?:\/\/(umeng|alog)\.alicdn\.com\b.* url reject-200